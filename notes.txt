Decisions & Notes (CantSavePrincess / csp)
-----------------------------------------

- Package name: short package `csp` is preferred for imports and entry point.
- Repository: you will rename the top-level folder to `cant-save-princess` (matching GitHub).
- Run method: keep using `uv run game` (already configured in pyproject).
- Assets: keep `sounds/` at the repo root for now (works with current code). We’ll add a
  frozen-safe loader so we don’t need to move assets into the package to ship binaries.
- Tooling: keep mypy + ruff; VS Code settings already added. `.venv/` will be created by `uv sync`.

Next-session tasks (high level)
1) Create `src/csp/` package and move current modules there; change imports to `from csp...`.
2) Add `[project.scripts] game = "csp.main:main"` to `pyproject.toml` (so `uv run game` uses entry point).
3) Add `csp/assets.py` helper that resolves `sounds/` relative paths in dev and frozen modes
   (check `sys._MEIPASS` for PyInstaller, else use project-root fallback).
4) Update sound loading to use the new helper. Verify runtime.
5) Run tooling: `uv run ruff check .`, `uv run ruff format .`, `uv run mypy .` and fix issues.
6) Packaging pass (optional this round):
   - `uv add --dev pyinstaller`
   - `uv run pyinstaller --name CantSavePrincess --onefile --noconsole --add-data "sounds:sounds" -m csp.main`
   - Test the resulting binary; confirm sounds work.
7) README: add a Packaging section with the PyInstaller command and asset notes.

Implementation notes
- Import paths won’t get long; `csp` keeps them short and clean.
- Keeping assets in `sounds/` avoids nesting data under source. The frozen-safe loader will
  make this robust for binaries without changing your current layout.
- If we later prefer embedded package data, we can move `sounds/` to `src/csp/assets/sounds/`
  and switch to `importlib.resources`. Not needed now.

Commands cheat sheet
- Create env: `uv sync`
- Run game: `uv run game`
- Lint: `uv run ruff check .` (auto-fix: `uv run ruff format .`)
- Types: `uv run mypy .`
- Package (optional): `uv run pyinstaller --name CantSavePrincess --onefile --noconsole --add-data "sounds:sounds" -m csp.main`

